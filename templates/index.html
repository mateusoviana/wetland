{% extends "layout.html" %}

{% block content %}
<section class="text-center py-8">
    <h2 class="text-3xl font-bold text-emerald-800">Nossos Produtos</h2>
</section>

<form method="get" class="flex flex-wrap gap-4 justify-center mb-8">
    <select name="seller" class="px-4 py-2 min-w-[180px] border border-gray-300 rounded">
        <option value="">Todos os Vendedores</option>
        {% for seller in sellers %}
            <option value="{{ seller }}" {% if seller == selected_seller %}selected{% endif %}>{{ seller }}</option>
        {% endfor %}
    </select>

    <input type="number" name="min_price" placeholder="Preço mínimo" value="{{ min_price or '' }}" step="0.01"
           class="px-4 py-2 w-32 border border-gray-300 rounded">
    <input type="number" name="max_price" placeholder="Preço máximo" value="{{ max_price or '' }}" step="0.01"
           class="px-4 py-2 w-32 border border-gray-300 rounded">

    <button type="submit" class="px-6 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700">Filtrar</button>
</form>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
    {% for product in products %}
    <div class="border rounded shadow hover:shadow-md transition p-4 flex flex-col items-center bg-white">
        <a href="/produto/{{ product.id }}" class="w-full text-center space-y-2">
            <img src="{{ product.image_url }}" alt="{{ product.name }}" class="w-full h-48 object-contain rounded bg-white">
            <h3 class="text-lg font-semibold">{{ product.name }}</h3>
            <p class="text-sm text-gray-600">{{ product.description }}</p>
            <p class="text-sm text-gray-500"><strong>Vendido por:</strong> {{ product.seller }}</p>
            <p class="text-lg font-bold text-emerald-700">R$ {{ "%.2f"|format(product.price) }}</p>
            <button class="mt-2 px-4 py-2 bg-emerald-800 text-white rounded hover:bg-emerald-900">Ver Produto</button>
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}
